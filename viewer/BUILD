cc_binary(
    name = "oko",
    srcs = [
        "app_model.cc",
        "app_model.h",
        "cache_directories_manager.cc",
        "cache_directories_manager.h",
        "directory_log_files_provider.cc",
        "directory_log_files_provider.h",
        "error_codes.cc",
        "error_codes.h",
        "file_decompressor.h",
        "gzip_file_decompressor.cc",
        "gzip_file_decompressor.h",
        "log_file.h",
        "log_file_impl.cc",
        "log_file_impl.h",
        "log_files_provider.cc",
        "log_files_provider.h",
        "log_filter.h",
        "log_formats/memorylog_log_file.cc",
        "log_formats/memorylog_log_file.h",
        "log_formats/text_log_file.cc",
        "log_formats/text_log_file.h",
        "log_level_filter.cc",
        "log_level_filter.h",
        "log_pattern_filter.cc",
        "log_pattern_filter.h",
        "log_record.h",
        "log_view.h",
        "main.cc",
        "merged_log_view.cc",
        "merged_log_view.h",
        "s3_log_files_provider.cc",
        "s3_log_files_provider.h",
        "ui/add_level_filter_dialog.cc",
        "ui/add_level_filter_dialog.h",
        "ui/add_pattern_filter_dialog.cc",
        "ui/add_pattern_filter_dialog.h",
        "ui/color_manager.cc",
        "ui/color_manager.h",
        "ui/dialog_window.cc",
        "ui/dialog_window.h",
        "ui/filters_list_window.cc",
        "ui/filters_list_window.h",
        "ui/function_bar_window.cc",
        "ui/function_bar_window.h",
        "ui/go_to_timestamp_dialog.cc",
        "ui/go_to_timestamp_dialog.h",
        "ui/log_files_window.cc",
        "ui/log_files_window.h",
        "ui/log_window.cc",
        "ui/log_window.h",
        "ui/message_window.cc",
        "ui/message_window.h",
        "ui/ncurses_helpers.h",
        "ui/progress_window.cc",
        "ui/progress_window.h",
        "ui/screen_layout.cc",
        "ui/screen_layout.h",
        "ui/search_dialog.cc",
        "ui/search_dialog.h",
        "ui/search_log_dialog.cc",
        "ui/search_log_dialog.h",
        "ui/status_window.cc",
        "ui/status_window.h",
        "ui/window.cc",
        "ui/window.h",
        "zip_archive_files_provider.cc",
        "zip_archive_files_provider.h",
        "zstd_file_decompressor.cc",
        "zstd_file_decompressor.h",
    ],
    linkopts = ["-lpthread"],
    deps = [
        "@aws_sdk//:s3",
        "@boost//:iostreams",
        "@boost//:program_options",
        "@libcxx",
        "@libzip",
        "@libzlib",
        "@libzstd",
        "@ncurses",
        "@ncurses//:forms",
    ],
)
